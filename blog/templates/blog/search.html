{% extends 'blog/base.html' %} {% load static %} 
{% block title %}Search Results{% endblock title %} {% block style %}

<link rel="stylesheet" href="{% static 'blog/css/category.css' %}" />
{% endblock style %} {% block content %}

<div class="container-custom my-5 mx-5 mt-7 pt-5">
  <div class="row justify-content-center">
    <div class="col-md-9">
        <form method="GET" action="{% url 'search' %}" class="mt-5">
            <div class="input-group">
              <input type="text" name="query" class="form-control mb-3" placeholder="Search blogs...">
              <button type="submit" class="btn btn-primary ml-2 mb-3"><i class="fas fa-search"></i></button>
            </div>
          </form>
      <h2>Search Results:</h2>

      <!-- Blog Post 1 -->
      {% if posts %} 
      {% for post in posts %}
      <div class="row my-4">
        <div class="col-md-4">
          <img
            class="img-fluid"
            src="{{ post.image.url }}"
            alt="Blog Post 1"
          />
        </div>
        <div class="col-md-8">
          <h3><a href="{% url 'blog_detail' category_slug=post.category.slug post_slug=post.slug %}">{{ post.title}}</a></h3>
          <p>{{ post.content|safe|truncatechars:150}}</p>
          <p><strong>Author:</strong> {{post.author}}</p>
          <p><strong>Date:</strong> {{post.date_posted}}</p>
        </div>
      </div>
      {% endfor %}
      {% else %}
      <br><p>Sorry!!! No posts found.</p>
      {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock content %}
